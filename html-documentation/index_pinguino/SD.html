

<?xml version="1.0"?>
<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--<link type="text/css" href="static/css/bootstrap.min.css" rel="stylesheet">-->
  <!--<link type="text/css" href="static/css/styles.css" rel="stylesheet">-->

  <link type="text/css" href="../static/css/bootstrap.min.css" rel="stylesheet">
  <link type="text/css" href="../static/css/styles.css" rel="stylesheet">

</head>


<body>


<div class="container-fluid">



<h1 class="text-primary">Library: SD</h1>

<ol class="breadcrumb">
  
  <li><a href="../index_pinguino/index.html">Index</a></li>
  <li class="active">SD</li>
  
</ol>

<hr>

<div class="row">

<div class="col-md-12">
<!--<h1 class="text-primary">SD</h1>-->
<!--<hr>-->

<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><p><br/>
</p>
<table class="toc" id="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Purpose"><span class="tocnumber">1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Compatible_Boards.2FCompatibility"><span class="tocnumber">2</span> <span class="toctext">Compatible Boards/Compatibility</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Boards_with_RTCC"><span class="tocnumber">2.1</span> <span class="toctext">Boards with RTCC</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Boards_without_RTCC"><span class="tocnumber">2.2</span> <span class="toctext">Boards without RTCC</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#How_to_Use.2FInclude"><span class="tocnumber">3</span> <span class="toctext">How to Use/Include</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Known_Limitations.2FBugs"><span class="tocnumber">5</span> <span class="toctext">Known Limitations/Bugs</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Other_Comments.2FSuggestions"><span class="tocnumber">6</span> <span class="toctext">Other Comments/Suggestions</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Library_Functions"><span class="tocnumber">7</span> <span class="toctext">Library Functions</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Purpose"> Purpose </span></h2>
<p>The SD Library and its functions aim at allowing users to read from and write to SD cards, either using the micro SD slot included on some boards or potentially using an external SD card connector.
</p><p>The SD library makes use of FatFS Generic FAT Files system module (R0.09, Sep 06, 2011) together with other library files written or customised to work in the Pinguino environment.
</p>
<dl><dt>Note</dt><dd>As at 6 May 2012 this library is being modified to extend its functionality to cover the PIC32 Pinguino Micro board - have a look at the Pinguino Forum to find out current progress.  When those changes have been completed the updated library will be available from the SVN repository and this wiki page updated accordingly.
</dd></dl>
<h2> <span class="mw-headline" id="Compatible_Boards.2FCompatibility"> Compatible Boards/Compatibility</span></h2>
<h3> <span class="mw-headline" id="Boards_with_RTCC"> Boards with RTCC </span></h3>
<ul><li>PIC32 Pinguino OTG
</li><li>PIC32 Pinguino
</li></ul>
<h3> <span class="mw-headline" id="Boards_without_RTCC"> Boards without RTCC </span></h3>
<ul><li>PIC32 Pinguino Micro
</li></ul>
<dl><dt>Note</dt><dd>Any board not specifically listed under "Boards with RTCC" above will behave as if it does not have RTCC. <br/>(see <a href="#Known_Limitations.2FBugs">Known Limitations/Bugs</a> below)
</dd></dl>
<h2> <span class="mw-headline" id="How_to_Use.2FInclude"> How to Use/Include </span></h2>
<p>The SD library uses a Serial Peripheral Interface (SPI) bus to "talk" to the SD card. The SPI bus specifies four logic signals:
</p>
<ul><li>SCLK: serial clock (output from master);
</li><li>MOSI: master output, slave input (output from master);
</li><li>MISO: master input, slave output (output from slave);
</li><li>SS: slave select (active low, output from master).
</li></ul>
<p>The SD library uses the standard PIC32 connections for SPI2 for SCLK, MOSI and MISO but uses a separate connection for SS, not #SS2.  This allows the SD card to be addressed separately from other devices connected to SPI2 and the SD.mount() function is used to tell the SD library which connection is being used.
</p>
<table>
<caption> <b>SD Card Connections</b>
</caption>
<tr>
<th style="width: 50pt;">
</th>
<th style="width: 50pt;">SPI
</th>
<th style="width: 120pt;">microSD Card
</th>
<th>PIC32
</th></tr>
<tr>
<td>
</td>
<td>MOSI
</td>
<td>3 = CMD/DI
</td>
<td>SDO2
</td></tr>
<tr>
<td>
</td>
<td>MISO
</td>
<td>7 = DAT0/D0
</td>
<td>SDI2
</td></tr>
<tr>
<td>
</td>
<td>SCK
</td>
<td>5 = CLK/SCLK
</td>
<td>SCK2
</td></tr>
<tr>
<td>
</td>
<td>SS
</td>
<td>2 = CD/DAT3/CS
</td>
<td>set by SD.mount( )
</td></tr></table>
<p>Where the SD card connector is on the board the Pinguino Pin number used in the SD.mount() function is determined by the hardwired connections on the board (see below).
</p>
<table>
<caption><b>SD.mount values for supported boards</b>
</caption>
<tr>
<td style="width: 50pt;">
</td>
<td style="width: 170pt;">PIC32 Pinguino
</td>
<td>SD.mount(8);
</td></tr>
<tr>
<td>
</td>
<td>PIC32 Pinguino OTG
</td>
<td>SD.mount(8);
</td></tr>
<tr>
<td>
</td>
<td>PIC32 Pinguino Micro
</td>
<td>SD.mount(40);
</td></tr></table>
<h2> <span class="mw-headline" id="Examples"> Examples </span></h2>
<h2> <span class="mw-headline" id="Known_Limitations.2FBugs"> Known Limitations/Bugs </span></h2>
<dl><dt>For boards with RTCC</dt><dd> The RTCC needs to have been set before <b>writing</b> files or directories/folders to the SD card for the date/time stamp to be correct and the RTCC to function correctly.
</dd><dt>For boards without RTCC</dt><dd> When files or directories/folders are written to the SD card a default date and time of 01 Jan 2012 12:00:00 is used for the date/time stamp so all files or directories/folders written to the card using the SD library will have the same date and time.
</dd></dl>
<h2> <span class="mw-headline" id="Other_Comments.2FSuggestions"> Other Comments/Suggestions </span></h2>
<p>Corrections, suggestions, and new documentation can be made directly on this Wiki
</p>
<h2> <span class="mw-headline" id="Library_Functions"> Library Functions </span></h2>
<!-- 
NewPP limit report
Preprocessor node count: 35/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->
<!-- Saved in parser cache with key pinguino:pcache:idhash:672-0!*!*!!en!*!* and timestamp 20150531080700 -->
<div dir="ltr" lang="en"><p><i>This category currently contains no pages or media.</i>
</p></div></div>

</div>





</div>






</body>

</html>




